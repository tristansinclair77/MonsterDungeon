<Window x:Class="MonsterDungeon.Presentation.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
     xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MonsterDungeon.Presentation.Views"
        xmlns:debug="clr-namespace:MonsterDungeon.Presentation.Views.Debug"
   xmlns:game="clr-namespace:MonsterDungeon.Presentation.Views.Game"
        mc:Ignorable="d"
        Title="{Binding Title}" Height="720" Width="1280"
        WindowStyle="None"
        ResizeMode="NoResize"
AllowsTransparency="False"
        WindowStartupLocation="CenterScreen"
   Background="{Binding ThemeManager.ScreenBackgroundMainColor, Converter={StaticResource HexColorToBrushConverter}}">
    
    <Viewbox Stretch="Uniform">
        <Grid x:Name="GameRoot" Width="1280" Height="720">
  <Grid.RowDefinitions>
   <RowDefinition Height="Auto"/>
     <RowDefinition Height="*"/>
  </Grid.RowDefinitions>

  <!-- Header -->
 <Border Grid.Row="0" 
     Background="{Binding ThemeManager.HeaderMainColor, Converter={StaticResource HexColorToBrushConverter}}" 
        Padding="10">
    <StackPanel Orientation="Horizontal">
<TextBlock Text="{Binding Title}" 
          FontSize="24" 
    FontWeight="Bold"
  Foreground="{Binding ThemeManager.HeaderTextColor, Converter={StaticResource HexColorToBrushConverter}}"/>
   <TextBlock Text="{Binding Version}" 
 FontSize="12" 
       Foreground="{Binding ThemeManager.HeaderExtrasColor, Converter={StaticResource HexColorToBrushConverter}}"
     Margin="10,0,0,0"
       VerticalAlignment="Center"/>
  </StackPanel>
       </Border>

      <!-- Main Menu (Active when Main Menu is selected) -->
     <game:MainMenu Grid.Row="1"
    Visibility="{Binding DataContext.DebugMenu.IsMainMenuVisible, RelativeSource={RelativeSource AncestorType=Window}, Converter={StaticResource BooleanToVisibilityConverter}}"/>
      
    <!-- Combat Screen (Active when in combat mode) -->
  <game:CombatScreen Grid.Row="1" 
  DataContext="{Binding CombatView}"
        Visibility="{Binding DataContext.DebugMenu.IsCombatScreenVisible, RelativeSource={RelativeSource AncestorType=Window}, Converter={StaticResource BooleanToVisibilityConverter}}"
      Panel.ZIndex="10"/>
  
  <!-- Debug Menu Overlay -->
  <debug:DebugMenu Grid.RowSpan="2" 
    DataContext="{Binding DebugMenu}"
   Visibility="{Binding IsVisible, Converter={StaticResource BooleanToVisibilityConverter}}"
         Panel.ZIndex="1000"/>
        </Grid>
    </Viewbox>
</Window>
